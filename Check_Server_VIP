task.wait(60)
local HttpService = game:GetService("HttpService")
local TeleportService = game:GetService("TeleportService")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Private_Server = game:GetService('RobloxReplicatedStorage').GetServerType:InvokeServer()

-- ‡πÄ‡∏Å‡πá‡∏ö id ‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏¢‡πÉ‡∏ä‡πâ
local triedServers = {}

local server_hop = function()
	local get_random = {}
	for i,v in pairs(game:GetService("HttpService"):JSONDecode(game:HttpGet('https://games.roblox.com/v1/games/'..game.PlaceId..'/servers/Public?sortOrder=Asc&limit=100')).data) do
		if type(v) == "table" 
		   and v.maxPlayers > v.playing 
		   and v.playing <= 8 
		   and v.playing >= 2  -- üëà ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô >= 2
		   and v.id ~= game.JobId 
		   and not triedServers[v.id] then
			get_random[#get_random + 1] = v.id
		end
	end
	if #get_random > 0 then
		local chosen = get_random[math.random(1, #get_random)]
		triedServers[chosen] = true  -- ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ß‡πà‡∏≤‡πÉ‡∏ä‡πâ‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß
		game:GetService("TeleportService"):TeleportToPlaceInstance(game.PlaceId, chosen)
	end
end

task.spawn(function()
    if Private_Server ~= "StandardServer" then
        while true do
            server_hop()
            task.wait(10)
        end
    end
end)
